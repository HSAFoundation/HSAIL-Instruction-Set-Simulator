version 1:0:$small;

kernel &__Get_Dispatch_ID(kernarg_u32 %arg_val0)
{
	// Compute Where in buffer to store answer based on workitemaid
	workitemaid $s1, 0;
	shl_u32	 $s1, $s1, 2;  // Get offset by Multiplying by 4 because that is the size of each workitemaid
	ld_kernarg_u32	$s0, [%arg_val0];
	add_u32	 $s0, $s0, $s1;  // Add offset to Address

	// Get Dispatch ID
	dispatchid $s2;

	// Store Dispatch ID on Kernel Argument
	st_global_u32	$s2, [$s0] ;

	ret;
};
